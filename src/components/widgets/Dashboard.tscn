[gd_scene load_steps=4 format=2]

[ext_resource path="res://components/widgets/WidgetResizer.tscn" type="PackedScene" id=1]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

uniform vec2 grid_size = vec2(100.0);
uniform vec2 margin_size = vec2(5.0);
uniform vec4 grid_color :  hint_color = vec4(0.14,0.14,0.2, 1.0);

void fragment(){
	vec4 color = COLOR;
	vec2 coord_px = mod(UV / SCREEN_PIXEL_SIZE, grid_size);
	
	if (coord_px.x > grid_size.x - 1.0 || coord_px.y > grid_size.y - 1.0){
		COLOR = grid_color;
	}
	if (coord_px.x > margin_size.x - 1.0 && coord_px.x < margin_size.x  || coord_px.y > margin_size.y - 1.0 && coord_px.y < margin_size.y ){
		COLOR = grid_color;
		COLOR.a *= 0.5;
	}
	if (coord_px.x > grid_size.x - margin_size.x - 1.0 && coord_px.x < grid_size.x - margin_size.x || coord_px.y > grid_size.y - margin_size.y - 1.0 &&  coord_px.y < grid_size.y - margin_size.y){
		COLOR = grid_color;
		COLOR.a *= 0.5;
	}
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/grid_size = Vector2( 100, 100 )
shader_param/margin_size = Vector2( 5, 5 )
shader_param/grid_color = Color( 0.14, 0.14, 0.2, 1 )

[node name="Dashboard" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Grid" type="ColorRect" parent="."]
material = SubResource( 2 )
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 1, 1, 1, 0 )

[node name="Widgets" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="ColorRect" type="ColorRect" parent="Widgets"]
margin_left = 205.0
margin_top = 205.0
margin_right = 595.0
margin_bottom = 595.0
color = Color( 0, 0, 0, 1 )

[node name="WidgetResizer" parent="Widgets/ColorRect" instance=ExtResource( 1 )]

[node name="ColorRect2" type="ColorRect" parent="Widgets"]
margin_left = 705.0
margin_top = 205.0
margin_right = 1095.0
margin_bottom = 595.0
color = Color( 0, 0, 0, 1 )

[node name="WidgetResizer" parent="Widgets/ColorRect2" instance=ExtResource( 1 )]
