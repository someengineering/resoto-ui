[gd_scene load_steps=9 format=2]

[ext_resource path="res://assets/icons/icon_128_duplicate.svg" type="Texture" id=1]
[ext_resource path="res://assets/icons/icon_128_delete_trashcan.svg" type="Texture" id=2]
[ext_resource path="res://assets/icons/icon_128_edit_pencil.svg" type="Texture" id=3]
[ext_resource path="res://assets/icons/icon_128_play.svg" type="Texture" id=4]
[ext_resource path="res://components/job_editor/job_editor_element.gd" type="Script" id=5]
[ext_resource path="res://components/elements/styled/icon_button.tscn" type="PackedScene" id=6]
[ext_resource path="res://components/elements/styled/icon_check_button.tscn" type="PackedScene" id=7]

[sub_resource type="StyleBoxFlat" id=1]
draw_center = false
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color( 0.788235, 0.258824, 0.141176, 1 )
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4

[node name="JobElement" type="PanelContainer"]
anchor_right = 1.0
margin_bottom = 153.0
size_flags_horizontal = 3
theme_type_variation = "PanelContainerWindow"
script = ExtResource( 5 )

[node name="JobData" type="VBoxContainer" parent="."]
margin_left = 10.0
margin_top = 4.0
margin_right = 1916.0
margin_bottom = 188.0

[node name="TitleBar" type="HBoxContainer" parent="JobData"]
margin_right = 1906.0
margin_bottom = 33.0

[node name="JobName" type="Label" parent="JobData/TitleBar"]
unique_name_in_owner = true
margin_top = 3.0
margin_right = 36.0
margin_bottom = 33.0
size_flags_vertical = 8
theme_type_variation = "Label_24"
text = "title"

[node name="Control" type="Control" parent="JobData/TitleBar"]
margin_left = 40.0
margin_right = 1758.0
margin_bottom = 33.0
size_flags_horizontal = 3

[node name="ActiveButton" parent="JobData/TitleBar" instance=ExtResource( 7 )]
unique_name_in_owner = true
margin_left = 1762.0
margin_right = 1795.0
hint_tooltip = "Activate / Deactivate Job"

[node name="RunButton" parent="JobData/TitleBar" instance=ExtResource( 6 )]
margin_left = 1799.0
margin_right = 1832.0
hint_tooltip = "Run Job"
icon_tex = ExtResource( 4 )

[node name="DuplicateButton" parent="JobData/TitleBar" instance=ExtResource( 6 )]
margin_left = 1836.0
margin_right = 1869.0
hint_tooltip = "Duplicate Job"
icon_tex = ExtResource( 1 )

[node name="DeleteButton" parent="JobData/TitleBar" instance=ExtResource( 6 )]
margin_left = 1873.0
margin_right = 1906.0
hint_tooltip = "Delete Job"
icon_tex = ExtResource( 2 )

[node name="Content" type="MarginContainer" parent="JobData"]
margin_top = 37.0
margin_right = 1906.0
margin_bottom = 184.0
custom_constants/margin_right = 6
custom_constants/margin_top = 12
custom_constants/margin_left = 0
custom_constants/margin_bottom = 6

[node name="VBox" type="VBoxContainer" parent="JobData/Content"]
margin_top = 12.0
margin_right = 1900.0
margin_bottom = 141.0

[node name="HBoxContainer" type="HBoxContainer" parent="JobData/Content/VBox"]
margin_right = 1900.0
margin_bottom = 129.0
custom_constants/separation = 10

[node name="TriggerSettings" type="VBoxContainer" parent="JobData/Content/VBox/HBoxContainer"]
margin_right = 459.0
margin_bottom = 129.0

[node name="Label" type="Label" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings"]
margin_right = 459.0
margin_bottom = 20.0
theme_type_variation = "LabelBold"
text = "Trigger"

[node name="TriggerSection" type="GridContainer" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings"]
margin_top = 24.0
margin_right = 459.0
margin_bottom = 129.0
columns = 2

[node name="TriggerLabel" type="Label" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection"]
margin_right = 155.0
margin_bottom = 30.0
rect_min_size = Vector2( 155, 30 )
size_flags_vertical = 0
text = "Type"
valign = 1

[node name="TriggerSelect" type="OptionButton" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection"]
unique_name_in_owner = true
margin_left = 159.0
margin_right = 459.0
margin_bottom = 32.0
rect_min_size = Vector2( 300, 0 )
size_flags_horizontal = 0
text = "Scheduled"
items = [ "Scheduled", null, false, 0, null, "Event", null, false, 1, null, "Scheduled, then wait for Event", null, false, 2, null ]
selected = 0

[node name="CronLabel" type="Label" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection"]
unique_name_in_owner = true
margin_top = 36.0
margin_right = 155.0
margin_bottom = 66.0
rect_min_size = Vector2( 0, 30 )
size_flags_vertical = 0
text = "Cron expression"
valign = 1

[node name="CronContainer" type="HBoxContainer" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection"]
unique_name_in_owner = true
margin_left = 159.0
margin_top = 36.0
margin_right = 459.0
margin_bottom = 69.0

[node name="CronLineEdit" type="LineEdit" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection/CronContainer"]
unique_name_in_owner = true
margin_right = 264.0
margin_bottom = 33.0
size_flags_horizontal = 3
theme_type_variation = "LineEditCode"
text = "* * * * *"

[node name="CronError" type="Panel" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection/CronContainer/CronLineEdit"]
unique_name_in_owner = true
visible = false
modulate = Color( 1, 1, 1, 0 )
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
size_flags_horizontal = 3
size_flags_vertical = 3
custom_styles/panel = SubResource( 1 )

[node name="CronEditor" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection/CronContainer" instance=ExtResource( 6 )]
margin_left = 268.0
margin_right = 300.0
rect_min_size = Vector2( 32, 32 )
icon_tex = ExtResource( 3 )

[node name="EventLabel" type="Label" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection"]
unique_name_in_owner = true
margin_top = 73.0
margin_right = 155.0
margin_bottom = 103.0
rect_min_size = Vector2( 0, 30 )
size_flags_vertical = 0
text = "Event identifier"
valign = 1

[node name="EventSelector" type="MenuButton" parent="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection"]
unique_name_in_owner = true
margin_left = 159.0
margin_top = 73.0
margin_right = 459.0
margin_bottom = 105.0
rect_min_size = Vector2( 300, 0 )
focus_mode = 2
size_flags_horizontal = 0
flat = false
align = 0

[node name="VSeparator" type="VSeparator" parent="JobData/Content/VBox/HBoxContainer"]
margin_left = 469.0
margin_right = 473.0
margin_bottom = 129.0

[node name="CommandSettings" type="VBoxContainer" parent="JobData/Content/VBox/HBoxContainer"]
margin_left = 483.0
margin_right = 1900.0
margin_bottom = 129.0
size_flags_horizontal = 3

[node name="Command" type="Label" parent="JobData/Content/VBox/HBoxContainer/CommandSettings"]
margin_right = 1417.0
margin_bottom = 30.0
rect_min_size = Vector2( 0, 30 )
size_flags_vertical = 0
theme_type_variation = "LabelBold"
text = "Executed command"
valign = 1

[node name="CommandEdit" type="TextEdit" parent="JobData/Content/VBox/HBoxContainer/CommandSettings"]
unique_name_in_owner = true
margin_top = 34.0
margin_right = 1417.0
margin_bottom = 129.0
rect_min_size = Vector2( 0, 58 )
size_flags_horizontal = 3
size_flags_vertical = 3
wrap_enabled = true

[node name="SaveDiscardSpacer" type="Control" parent="JobData/Content/VBox"]
unique_name_in_owner = true
visible = false
margin_top = 132.0
margin_right = 1900.0
margin_bottom = 140.0
rect_min_size = Vector2( 0, 8 )

[node name="SaveDiscardBar" type="HBoxContainer" parent="JobData/Content/VBox"]
unique_name_in_owner = true
visible = false
margin_top = 144.0
margin_right = 1900.0
margin_bottom = 176.0
custom_constants/separation = 20
alignment = 1

[node name="SaveButton" type="Button" parent="JobData/Content/VBox/SaveDiscardBar"]
margin_left = 804.0
margin_right = 930.0
margin_bottom = 32.0
text = "Save Changes"

[node name="DiscardButton" type="Button" parent="JobData/Content/VBox/SaveDiscardBar"]
margin_left = 950.0
margin_right = 1095.33
margin_bottom = 32.0
text = "Discard Changes"

[connection signal="pressed" from="JobData/TitleBar/ActiveButton" to="." method="_on_ActiveButton_pressed"]
[connection signal="pressed" from="JobData/TitleBar/RunButton" to="." method="_on_RunButton_pressed"]
[connection signal="pressed" from="JobData/TitleBar/DuplicateButton" to="." method="_on_DuplicateButton_pressed"]
[connection signal="pressed" from="JobData/TitleBar/DeleteButton" to="." method="_on_DeleteButton_pressed"]
[connection signal="item_selected" from="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection/TriggerSelect" to="." method="_on_TriggerSelect_item_selected"]
[connection signal="text_changed" from="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection/CronContainer/CronLineEdit" to="." method="_on_CronLineEdit_text_changed"]
[connection signal="pressed" from="JobData/Content/VBox/HBoxContainer/TriggerSettings/TriggerSection/CronContainer/CronEditor" to="." method="_on_CronEditor_pressed"]
[connection signal="text_changed" from="JobData/Content/VBox/HBoxContainer/CommandSettings/CommandEdit" to="." method="_on_CommandEdit_text_changed"]
[connection signal="pressed" from="JobData/Content/VBox/SaveDiscardBar/SaveButton" to="." method="_on_SaveButton_pressed"]
[connection signal="pressed" from="JobData/Content/VBox/SaveDiscardBar/DiscardButton" to="." method="_on_DiscardButton_pressed"]
